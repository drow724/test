<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
    <script src="/lib/jquery.js"></script>
    <script src="/lib/support.js"></script>
    <ul>
      <li>
        <input type="number" name="faceamount" />
        <input type="number" name="result" />
      </li>
      <li>
        <input type="number" name="faceamount" />
        <input type="number" name="result" />
      </li>
      <li>
        <input type="number" name="faceamount" />
        <input type="number" name="result" />
      </li>
      <li>
        <input type="number" name="faceamount" />
        <input type="number" name="result" />
      </li>
      <li>
        <input type="number" name="faceamount" />
        <input type="number" name="result" />
      </li>
      <li>
        <input type="number" name="faceamount" />
        <input type="number" name="result" />
      </li>
    </ul>
    <button id="load">랜덤 불러오기</button>
  </body>
  <script>
    $(function () {
      const $faceamount = $(`[name="faceamount"]`);

      const cal = async (event) => {
        const target = event.target;

        if (!$(target).val()) {
          return;
        }

        const result = await calculate($(target).val());
        $(target).next().val(result);

        //errorValid();
      };

      $faceamount.off("blur").on("blur", cal);

      const $load = $(`#load`);
      $load.off("click").on("click", () => {
        const $result = $(`[name="result"]`);
        $result.val("");

        $faceamount.each((_, row) => {
          $(row).val(parseInt(Math.random() * 100));
          $(row).blur();
        });
      });
    });
  </script>
</html>
